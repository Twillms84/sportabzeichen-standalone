{% extends 'base.html.twig' %}

{% block title %}OSA Cockpit - Sportabzeichen-Verwaltung für Schulen & Vereine{% endblock %}

{% block stylesheets %}
    {{ parent() }}
    <link rel="stylesheet" href="{{ asset('css/public_landingpage.css') }}">
{% endblock %}

{% block layout %}

{# Public Navbar #}
<nav class="navbar navbar-expand-lg public-navbar shadow-sm sticky-top px-4">
    <a class="navbar-brand fw-bold text-success d-flex align-items-center" href="#">
        <div class="bg-success text-white rounded-circle d-flex align-items-center justify-content-center me-2" style="width: 32px; height: 32px;">
            <i class="fas fa-medal small"></i>
        </div>
        OSA Cockpit
    </a>
    <div class="ms-auto d-flex align-items-center gap-3">
        <a href="#features" class="text-decoration-none theme-text d-none d-md-block">Features</a>
        <a href="#pricing" class="text-decoration-none theme-text d-none d-md-block">Preise</a>
        <a href="{{ path('app_login') }}" class="btn btn-outline-secondary rounded-pill px-4 ms-3">Login</a>
        <a href="{{ path('app_register') }}" class="btn btn-success rounded-pill px-4 shadow-sm">Kostenlos testen</a>
    </div>
</nav>

<div class="public-wrapper">
    
    {# Hero Section #}
    <section class="hero-section py-5 text-center reveal-on-scroll">
        <div class="container py-5 mt-3">
            <span class="badge rounded-pill bg-success bg-opacity-10 text-success mb-3 px-3 py-2 text-uppercase fw-bold border border-success">
                Für Schulen & Sportvereine
            </span>
            <h1 class="display-4 fw-bold mb-4 theme-heading">Weniger Zettelwirtschaft.<br>Mehr <span class="text-success">Sportabzeichen</span>.</h1>
            <p class="lead theme-text mx-auto mb-5" style="max-width: 700px;">
                Von der mobilen Eingabe durch den Prüfer bis zur automatischen Gruppenprüfkarte für die Schule. Verwalte Teilnehmer, teile Trainingsdaten und generiere Urkunden-Daten auf Knopfdruck.
            </p>
            <div class="d-flex justify-content-center gap-3">
                <a href="#pricing" class="btn btn-success btn-lg px-5 rounded-pill shadow">Preise ansehen</a>
            </div>
        </div>
    </section>

    {# Feature Bento Grid #}
    <section id="features" class="py-5 container">
        <div class="text-center mb-5 reveal-on-scroll">
            <h2 class="fw-bold theme-heading">Alles, was Prüfer & Teilnehmer brauchen</h2>
            <p class="theme-muted">Designt für den Sportplatz, optimiert für den Desktop.</p>
        </div>

        <div class="row g-4">
            {# Feature 1: Mobile Prüfer-Ansicht #}
            <div class="col-md-5 reveal-on-scroll">
                <div class="card h-100 border-0 shadow-sm p-4 theme-card overflow-hidden text-center">
                    <h3 class="fw-bold theme-heading">Mobile Prüfer-App</h3>
                    <p class="theme-muted small mb-4">Perfekt bedienbar am Smartphone direkt an der Sprunggrube.</p>
                    
                    <div class="mx-auto border border-4 border-secondary rounded-4 shadow-sm theme-bg-light" style="width: 180px; height: 260px; position: relative;">
                        <div class="bg-secondary rounded-bottom mx-auto" style="width: 70px; height: 15px;"></div>
                        <div class="p-2 text-start mt-2">
                            <span class="badge bg-primary mb-2">Weitsprung</span>
                            <div class="theme-card p-2 rounded shadow-sm mb-2 border">
                                <small class="d-block fw-bold theme-heading">Max M.</small>
                                <input type="text" class="form-control form-control-sm mt-1" placeholder="4,20 m" readonly>
                            </div>
                            <button class="btn btn-success btn-sm w-100 mt-1">Speichern</button>
                        </div>
                    </div>
                </div>
            </div>

            {# Feature 2: Teilnehmer Login #}
            <div class="col-md-7 reveal-on-scroll">
                <div class="card h-100 border-0 shadow-sm p-4 p-md-5 theme-card text-start d-flex flex-column justify-content-center">
                    <div class="text-success mb-3"><i class="fas fa-mobile-alt fa-2x"></i></div>
                    <h3 class="fw-bold theme-heading">Teilnehmer-Portal</h3>
                    <p class="theme-muted">Gib Athleten und Schülern eigene Logins. Sie können ihre Trainingsdaten eintragen und sehen sofort, welche offiziellen Werte der Prüfer bestätigt hat.</p>
                    
                    <div class="mt-3 theme-bg-light border rounded p-3 transform-mockup">
                        <div class="d-flex justify-content-between align-items-center mb-2">
                            <span class="fw-bold theme-heading">Kugelstoßen</span>
                            <span class="badge bg-success">Offiziell geprüft</span>
                        </div>
                        <div class="row text-center border-top pt-3 mt-2">
                            <div class="col-6 border-end">
                                <small class="theme-muted d-block">Dein Training</small>
                                <span class="fw-bold theme-heading">8,10 m</span>
                            </div>
                            <div class="col-6">
                                <small class="theme-muted d-block">Prüfer-Wert</small>
                                <span class="fw-bold text-success">8,45 m <i class="fas fa-medal text-warning ms-1"></i></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            {# Feature 3: Statistiken & Bestenlisten #}
            <div class="col-md-7 reveal-on-scroll">
                <div class="card h-100 border-0 shadow-sm p-4 p-md-5 text-white" style="background-color: #2c3e50;">
                    <div class="text-warning mb-3"><i class="fas fa-chart-line fa-2x"></i></div>
                    <h3 class="fw-bold">Statistiken & Rekorde</h3>
                    <p class="text-white-50">Wer ist der schnellste Sprinter der Schule? Welche Klasse hat die meisten Abzeichen? Analysiere Bestwerte auf Knopfdruck.</p>
                    
                    <div class="mt-3 bg-white bg-opacity-10 border border-secondary rounded p-3 transform-mockup">
                        <div class="d-flex justify-content-between align-items-center mb-2 pb-2 border-bottom border-secondary">
                            <span>1. Leon S. (Klasse 9a)</span>
                            <span class="text-warning fw-bold">6,8 sek</span>
                        </div>
                        <div class="d-flex justify-content-between align-items-center mb-2 pb-2 border-bottom border-secondary">
                            <span>2. Jonas K. (Klasse 9c)</span>
                            <span class="text-light fw-bold">7,1 sek</span>
                        </div>
                        <div class="d-flex justify-content-between align-items-center">
                            <span>3. Felix M. (Klasse 8b)</span>
                            <span class="text-light fw-bold">7,2 sek</span>
                        </div>
                    </div>
                </div>
            </div>

            {# Feature 4: Druck & Gruppenprüfkarten #}
            <div class="col-md-5 reveal-on-scroll">
                <div class="card h-100 border-0 shadow-sm p-4 theme-card d-flex flex-column justify-content-center text-center">
                    <div class="text-danger mb-3 transform-mockup">
                        <i class="fas fa-file-pdf" style="font-size: 4rem;"></i>
                    </div>
                    <h3 class="fw-bold theme-heading">Gruppenprüfkarten</h3>
                    <p class="theme-muted mb-0">Spare dir stundenlanges Abschreiben. Generiere fertige, normgerechte Gruppenprüfkarten als PDF, ready für den DOSB.</p>
                </div>
            </div>

            {# Feature 5: Eduplaces Banner #}
            <div class="col-12 reveal-on-scroll">
                <div class="card border-0 shadow-sm p-4 text-center d-flex flex-md-row align-items-center justify-content-center gap-4" style="background: linear-gradient(135deg, #e0f2fe 0%, #bae6fd 100%);">
                    <div class="text-primary"><i class="fas fa-university fa-3x"></i></div>
                    <div class="text-md-start">
                        <h4 class="fw-bold text-dark mb-1">Eduplaces Ready (In Vorbereitung)</h4>
                        <p class="text-dark opacity-75 small mb-0">Single Sign-On für Lehrkräfte und nahtlose Klassenlisten-Synchronisation kommen bald.</p>
                    </div>
                </div>
            </div>

        </div>
    </section>

    {# --- PRICING SECTION --- #}
    <section id="pricing" class="py-5 border-top theme-border">
        <div class="container py-5">
            <div class="text-center mb-5 reveal-on-scroll">
                <span class="text-success fw-bold text-uppercase tracking-wider">Preise</span>
                <h2 class="display-5 fw-bold mt-2 theme-heading">Einfach. Transparent. Fair.</h2>
                <p class="theme-muted">Jährliche Abrechnung. Alle kostenpflichtigen Pläne zzgl. gesetzlicher MwSt.</p>
            </div>

            <div class="row g-4 justify-content-center">
                {# Plan 1: Starter #}
                <div class="col-xl-3 col-lg-4 col-md-6 reveal-on-scroll">
                    <div class="card h-100 border-0 shadow-sm p-4 text-center transform-mockup theme-card">
                        <div class="card-body d-flex flex-column">
                            <h5 class="fw-bold theme-muted">Starter</h5>
                            <div class="display-5 fw-bold my-3 theme-heading">0 € <span class="fs-6 theme-muted fw-normal">/ Jahr</span></div>
                            <p class="theme-muted small mb-4">Ideal zum Testen & für kleine Gruppen.</p>
                            <ul class="list-unstyled text-start mb-4 small">
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i> Bis zu <strong>5</strong> Teilnehmer</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i> <strong>1</strong> Prüfer-Account</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i> Live-Auswertung</li>
                            </ul>
                            <a href="{{ path('app_register') }}" class="btn btn-outline-secondary w-100 rounded-pill mt-auto">Kostenlos testen</a>
                        </div>
                    </div>
                </div>

                {# Plan 2: Basis #}
                <div class="col-xl-3 col-lg-4 col-md-6 reveal-on-scroll">
                    <div class="card h-100 border-0 shadow p-4 text-center transform-mockup theme-card">
                        <div class="card-body d-flex flex-column">
                            <h5 class="fw-bold text-primary">Basis</h5>
                            <div class="display-5 fw-bold my-3 theme-heading">50 € <span class="fs-6 theme-muted fw-normal">/ Jahr</span></div>
                            <p class="theme-muted small mb-4">Für Grundschulen & kleine Vereine.</p>
                            <ul class="list-unstyled text-start mb-4 small">
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i> Bis zu <strong>100</strong> Teilnehmer</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i> Prüfer-Accounts inklusive</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i> PDF-Gruppenprüfkarten</li>
                            </ul>
                            <a href="{{ path('app_register') }}" class="btn btn-outline-primary w-100 rounded-pill mt-auto">Auswählen</a>
                        </div>
                    </div>
                </div>

                {# Plan 3: Pro #}
                <div class="col-xl-3 col-lg-4 col-md-6 reveal-on-scroll">
                    <div class="card h-100 border-2 border-success shadow p-4 text-center position-relative transform-mockup theme-card" style="top: -10px;">
                        <span class="position-absolute top-0 start-50 translate-middle badge rounded-pill bg-success px-3 py-2">Beliebt</span>
                        <div class="card-body d-flex flex-column mt-2">
                            <h5 class="fw-bold text-success">Pro</h5>
                            <div class="display-5 fw-bold my-3 theme-heading">70 € <span class="fs-6 theme-muted fw-normal">/ Jahr</span></div>
                            <p class="theme-muted small mb-4">Für weiterführende Schulen & Vereine.</p>
                            <ul class="list-unstyled text-start mb-4 small">
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i> Bis zu <strong>500</strong> Teilnehmer</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i> Teilnehmer-Logins (Portal)</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i> Erweiterte Statistiken</li>
                            </ul>
                            <a href="{{ path('app_register') }}" class="btn btn-success w-100 rounded-pill shadow-sm mt-auto">Auswählen</a>
                        </div>
                    </div>
                </div>

                {# Plan 4: Max #}
                <div class="col-xl-3 col-lg-4 col-md-6 reveal-on-scroll">
                    <div class="card h-100 border-0 shadow-sm p-4 text-center transform-mockup theme-card">
                        <div class="card-body d-flex flex-column">
                            <h5 class="fw-bold text-dark theme-heading">Max</h5>
                            <div class="display-5 fw-bold my-3 theme-heading">99 € <span class="fs-6 theme-muted fw-normal">/ Jahr</span></div>
                            <p class="theme-muted small mb-4">Für Schulzentren & Großvereine.</p>
                            <ul class="list-unstyled text-start mb-4 small">
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i> Bis zu <strong>1.500</strong> Teilnehmer</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i> Voller Funktionsumfang</li>
                                <li class="mb-2"><i class="fas fa-check text-success me-2"></i> Prio-Support</li>
                            </ul>
                            <a href="{{ path('app_register') }}" class="btn btn-outline-dark w-100 rounded-pill mt-auto">Auswählen</a>
                        </div>
                    </div>
                </div>
            </div>

            {# Enterprise Banner #}
            <div class="row mt-5 reveal-on-scroll">
                <div class="col-lg-10 mx-auto">
                    <div class="card border border-secondary shadow-sm theme-bg-light p-4 text-center d-flex flex-md-row align-items-center justify-content-between">
                        <div class="text-md-start mb-3 mb-md-0">
                            <h5 class="fw-bold theme-heading mb-1"><i class="fas fa-city text-secondary me-2"></i>Schulträger & Stadtverbände</h5>
                            <p class="theme-muted small mb-0">Zentrale Verwaltung und Abrechnung für mehrere Schulen oder Vereinsabteilungen.</p>
                        </div>
                        <a href="mailto:kontakt@deinedomain.de" class="btn btn-secondary rounded-pill px-4">Preise auf Anfrage</a>
                    </div>
                </div>
            </div>

        </div>
    </section>

    {# Call to Action Footer #}
    <footer class="py-5 text-center reveal-on-scroll" style="background-color: #1a1a1a; color: #ffffff;">
        <div class="container py-4">
            <h2 class="fw-bold mb-3">Zeit, den Papierkram zu beenden.</h2>
            <p class="opacity-75 mb-4">Registriere dich in 60 Sekunden und probiere es mit bis zu 5 Teilnehmern kostenlos aus.</p>
            <a href="{{ path('app_register') }}" class="btn btn-success btn-lg px-5 rounded-pill shadow-sm">Jetzt Account erstellen</a>
            <div class="mt-5 pt-4 border-top border-secondary opacity-50 small">
                &copy; {{ 'now'|date('Y') }} OSA Cockpit. Alle Rechte vorbehalten. | <a href="#" class="text-white">Impressum</a> | <a href="#" class="text-white">Datenschutz</a>
            </div>
        </div>
    </footer>
</div>

{# Scroll-Animation Script (Intersection Observer) #}
<script>
    document.addEventListener("DOMContentLoaded", function() {
        const observerOptions = {
            root: null,
            rootMargin: '0px',
            threshold: 0.15 // Startet, wenn 15% des Elements sichtbar sind
        };

        const observer = new IntersectionObserver((entries, observer) => {
            entries.forEach(entry => {
                if (entry.isIntersecting) {
                    entry.target.classList.add('is-visible');
                    observer.unobserve(entry.target); // Animation passiert nur 1x beim Runterscrollen
                }
            });
        }, observerOptions);

        document.querySelectorAll('.reveal-on-scroll').forEach((elem) => {
            observer.observe(elem);
        });
    });
</script>
{% endblock %}

{# Automatischer System-Darkmode Erkennung #}
<script>
    document.addEventListener("DOMContentLoaded", function() {
        // Funktion zum Setzen des Themes basierend auf dem System
        const updateTheme = () => {
            if (window.matchMedia('(prefers-color-scheme: dark)').matches) {
                document.documentElement.setAttribute('data-bs-theme', 'dark');
            } else {
                document.documentElement.setAttribute('data-bs-theme', 'light');
            }
        };

        // 1. Beim ersten Laden direkt ausführen
        updateTheme();

        // 2. Auf Änderungen des Systems hören (z.B. wenn der User in den Einstellungen auf Darkmode wechselt)
        window.matchMedia('(prefers-color-scheme: dark)').addEventListener('change', updateTheme);
    });
</script>